using CAServer.Commons;
using Xunit;
using Xunit.Abstractions;

namespace CAServer.Common;

public class ClientVersionTest
{

    private ITestOutputHelper _output;

    public ClientVersionTest(ITestOutputHelper testOutputHelper)
    {
        _output = testOutputHelper;
    }


    [Fact]
    public void Test()
    {
        _output.WriteLine((ClientVersion.Of("v1.2.3") == ClientVersion.Of("1.2.3")) + "");
        _output.WriteLine((ClientVersion.Of("v1.2.3") < ClientVersion.Of("1.2.4")) + "");
        _output.WriteLine((ClientVersion.Of("v1.2.3") > ClientVersion.Of("1.2.2")) + "");
    }


    [Fact]
    public void GoogleAuth()
    {
        var key = "308204bc020100300d06092a864886f70d0101010500048204a6308204a20201000282010100b70b7d3da33ebabe5e1e21dfff1a0828cef9d869d9cf0f2f22c2284e599144da371e435de3dc9dba25ac022a2a492fa701e7054332be83a5ad0261aea6d29843d1f85c9736db1dc24eed5195f21b614dfdb20c3760350c7ce7a081ea93a32d69832ba966a64c2c4d9b262085a2b701aa22691abaf8de203fc73acd24a20f16097e49ed7d36c1ceda331aa402c95e73e1bbff5a3fd6f7f6a68612e94a5ac62410955241e49c8588748e2058447c7197e673125b6ff269660ec580ed7194b706ecf1294ca3052ec74f4da2720b584962307f957880d831b42edb48f594a825b1e0df9df95571b9ebb024328a085790c2356794b3919bd52b3360998b9dac60282502030100010282010006403f7196820027c64d8cf66f69b61674ae5e18614e90fec3ac5c9583b95d0aa9b5601e144d16b02d1f5669ebb7439d6bb320c02125c097acbf472835d2127945c74f9c2a0caa13c11519833f7920107a85dfcfc2a53fcd0283a8a422e615ee8398545e3e76c7fadf7def6ae38f65e0679bee19d8016299b850a1ac55accd0c624cf0a9f242dba96bcd13287ce6ea13f996a5dfe10475476d484cfac023458e49f1f14cf414ca9b1ffb95c349c616fcbf821dc58fee211d6d4df9ddb4dec36a56de5538bce68c5bb829bd4de92e461d9aaf8706a79ef121ac5a006b8c3a1d4f147760e9cbd6dff34305bb3008f872035c7fb85f46939deaf690448db88092c902818100e638d72b1bb026f5137dce9db7b32bf56360a864628de53b07e070f29c5ffa319f227218e3df59f8f5a3bafd64d71c0b5f538c6252310859997f6706b58b76a2212a1dbb8c2845461e4246448a87a05c2102a9841357f614f705a7fcc82644809faecb5f7ff9bb075d6edc9f0a7c5b99c3cebe74084741dcde15cf817e2a751d02818100cb8a58eefdccb36ce43a9c8037fd3d33f0d742fce54d0c248efebaadeb19f8b2b945250d5302a88a267d3241fd0862d7e74b535b0579b3d77542bb9830347180745b196458ba1bb54d23a0b020ff58ef482614f0d170d55fe305d6a8433ebe7613370e07179044b2ebebb759efc1241661a8e654f8f549497dc515041b1cb8a90281803d734c93981763bea4ce3ed9405055da71053acd58b5114bb96582206ff6fa5c4662b65bc86f349fcc4940bf242c7ab2da65fda1bcd893a6fedecfcc2da7252a4f79e367cd186ead31a475071486f119c641e4a77956503bf6578f285cf041f6a728cbe618cdbacb537824f15aa628f91917d5243995739215c1729ad8e7524d02818032e000bcb3e97f8b9f3c5b33dd4aca0a7a8f83a9ecb2a66f58e2a8cca1f01aeea94a7429716f3fab505588c35fb8c1e40f670f8db7bfa4c91d01321ca727e49ae3fa854d44b4380ac81e38a2ed8c85b1418a6b3f8a4a36bb41e68ab20224e3bc65af242d77a152da9a07900bc5d6b3eb783b9c5eeedf78930b01c0f006cad60902818018a9e1ee8a736377d2d411ee3418931101e0d914f93db321657f0e05af7974a5a11aa9fa50f5e846b45140b926d3869830a4f81c84592610a187e4105a60f795e31667bd950813709280e5b8aa9d49096515ceb967e2a7bb2e25416da5705a93811507748e9c8eb4ebeb63ed9bac82883ab7f2cd0a589e599d205d51c771f9cd";
        var code = "280537";
        _output.WriteLine(GoogleTfaHelper.VerifyOrderExportCode(code, key) + "");
    }
    
    
}